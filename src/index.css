@import "tailwindcss";

:root {
  --grid-cols: 128;
  --grid-rows: 64;
  --grid-line-color: rgba(0, 0, 0, 0.12);
  --grid-background: #ebebec;
}

.viewport-grid-128x64 {
  width: 100vw;
  height: 100vh;
  display: grid;
  grid-template-columns: repeat(var(--grid-cols), 1fr);
  grid-template-rows: repeat(var(--grid-rows), 1fr);
  background-color: var(--grid-background);
  background-image:
    repeating-linear-gradient(
      to right,
      var(--grid-line-color) 0 1px,
      transparent 1px calc(100%/var(--grid-cols))
    ),
    repeating-linear-gradient(
      to bottom,
      var(--grid-line-color) 0 1px,
      transparent 1px calc(100%/var(--grid-rows))
    );
  background-repeat: no-repeat, no-repeat;
  background-size: 100% 100%;
}

/* Layout helpers */
.layout-grid { isolation: isolate; }

/* Sidebar occupying 22 columns on the left */
.sidebar-left-22 {
  grid-column: 1 / span 22;
  grid-row: 1 / -1;
  background: #30393f;
  position: relative;
}

/* Top header occupying 3 rows, above sidebar */
.app-header-3 {
  grid-column: 1 / -1;
  grid-row: 1 / span 3;
  background: #30393f;
  color: #ffffff;
  z-index: 10;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.35);
}
/* Visible divider between header and sidebar */
.sidebar-left-22::before {
  content: "";
  position: absolute;
  top: calc((100vh / var(--grid-rows)) * 3 + 2px);
  left: 0;
  right: 0;
  height: 1px;
  background: rgba(255, 255, 255, 0.2);
  pointer-events: none;
  z-index: 5;
}
.app-header-content { display: flex; align-items: center; justify-content: space-between; height: 100%; padding: 0 16px; }
.app-header-left { display: inline-flex; align-items: center; gap: 8px; }
.app-header-logo { height: 20px; display: block; }
.app-header-brand { display: inline-flex; align-items: center; gap: 6px; margin-left: 8px; color: #ffffff; font-weight: 700; }
.app-header-brand-accent { color: #ff8b33; }
.app-header-right { display: inline-flex; align-items: center; gap: 8px; }

/* Header route info */
.app-header-route { display: inline-flex; flex-direction: column; align-items: flex-start; gap: 4px; color: #ffffff; }
.app-header-title { color: #ffffff; font-weight: 700; margin: 0; }
.header-breadcrumbs { color: #ffffff; }
.header-breadcrumb-link { color: #ffffff; text-decoration: none; }
.header-breadcrumb-link:hover { text-decoration: underline; }
.header-breadcrumb-text { color: #ffffff; opacity: 0.85; }

/* Page breadcrumbs */
.page-breadcrumbs { color: inherit; margin: 0 0 12px; }
.page-breadcrumb-link { color: inherit; text-decoration: none; }
.page-breadcrumb-link:hover { text-decoration: underline; }
.page-breadcrumb-text { color: inherit; opacity: 0.8; }
.header-action-btn .MuiSvgIcon-root { color: #ffffff; }

/* Sidebar content container */
.sidebar-nav {
  height: 100%;
  padding: 16px;
  padding-top: calc((100vh / var(--grid-rows)) * 3 + 2px);
  overflow-y: auto;
  color: #ffffff;
}

/* Main content area between header and sidebar */
.content-area {
  grid-column: 23 / -1;
  grid-row: 4 / -1;
  overflow: auto;
  padding: 16px;
  background: #ebebec;
}
.home-title { margin: 0 0 12px; font-weight: 700; }

/* Home sections based on first-level menu (excluding Главная) */
.home-page { display: block; background: #ebebec; min-height: 100%; }
.home-section { margin: 16px 0 24px; }
.section-title { margin: 0 0 12px; font-weight: 700; font-size: 16px; }
.cards-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 12px; }
.feature-card { border-radius: 16px; box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12); overflow: hidden; }
.feature-card:hover { box-shadow: 0 10px 24px rgba(0, 0, 0, 0.16); }
.feature-card-title { font-weight: 600; }
.feature-card-content p { margin: 0; }

/* Ensure MUI tree inherits white text and icons */
.sidebar-tree .MuiTreeItem-label { color: #ffffff; }
.sidebar-tree .MuiSvgIcon-root { color: #ffffff; }

/* Inter-item vertical spacing */
.sidebar-tree .MuiTreeItem-root + .MuiTreeItem-root > .MuiTreeItem-content { margin-top: 10px; }
/* First item (home) top offset equal to spacing */
.sidebar-tree li[id$="-home"] > .MuiTreeItem-content { margin-top: 10px; }

/* Custom label structure */
.tree-item-label { display: inline-flex; align-items: center; gap: 8px; color: #ffffff; }
.tree-item-label-icon { display: inline-flex; }
.tree-item-label-text { line-height: 1.25; }
.tree-link { display: inline-flex; align-items: center; gap: 8px; color: inherit; text-decoration: none; }
/* Second-level items (depth 1) font size: 10px */
.sidebar-tree .MuiTreeItem-root[style*="--TreeView-itemDepth: 1"] .tree-item-label-text { font-size: 10px; }
